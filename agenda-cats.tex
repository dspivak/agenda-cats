\documentclass[11pt, one side, article]{memoir}


\settrims{0pt}{0pt} % page and stock same size
\settypeblocksize{*}{34.5pc}{*} % {height}{width}{ratio}
\setlrmargins{*}{*}{1} % {spine}{edge}{ratio}
\setulmarginsandblock{.98in}{.98in}{*} % height of typeblock computed
\setheadfoot{\onelineskip}{2\onelineskip} % {headheight}{footskip}
\setheaderspaces{*}{1.5\onelineskip}{*} % {headdrop}{headsep}{ratio}
\checkandfixthelayout


\usepackage{amsthm}
\usepackage{mathtools}

\usepackage[inline]{enumitem}
\usepackage{ifthen}
\usepackage[utf8]{inputenc} %allows non-ascii in bib file
\usepackage{xcolor}

\usepackage[backend=biber, backref=true, maxbibnames = 10, style = alphabetic]{biblatex}
\usepackage[bookmarks=true, colorlinks=true, linkcolor=blue!50!black,
citecolor=orange!50!black, urlcolor=orange!50!black, pdfencoding=unicode]{hyperref}
\usepackage[capitalize]{cleveref}

\usepackage{tikz}

\usepackage{amssymb}
\usepackage{newpxtext}
\usepackage[varg,bigdelims]{newpxmath}
\usepackage{mathrsfs}
\usepackage{dutchcal}
\usepackage{fontawesome}



% cleveref %
  \newcommand{\creflastconjunction}{, and\nobreakspace} % serial comma
  \crefformat{enumi}{\##2#1#3}
  \crefalias{chapter}{section}


% biblatex %
  \addbibresource{Library20220708.bib} 

% hyperref %
  \hypersetup{final}

% enumitem %
  \setlist{nosep}
  \setlistdepth{6}



% tikz %



  \usetikzlibrary{ 
  	cd,
  	math,
  	decorations.markings,
		decorations.pathreplacing,
  	positioning,
  	arrows.meta,
  	shapes,
		shadows,
		shadings,
  	calc,
  	fit,
  	quotes,
  	intersections,
    circuits,
    circuits.ee.IEC
  }
  
  \tikzset{
biml/.tip={Glyph[glyph math command=triangleleft, glyph length=.95ex]},
bimr/.tip={Glyph[glyph math command=triangleright, glyph length=.95ex]},
}

\tikzset{
	tick/.style={postaction={
  	decorate,
    decoration={markings, mark=at position 0.5 with
    	{\draw[-] (0,.4ex) -- (0,-.4ex);}}}
  }
} 
\tikzset{
	slash/.style={postaction={
  	decorate,
    decoration={markings, mark=at position 0.5 with
    	{\draw[-] (.3ex,.3ex) -- (-.3ex,-.3ex);}}}
  }
} 

\newcommand{\bito}[1][]{
	\begin{tikzcd}[ampersand replacement=\&, cramped]\ar[r, biml-bimr, "#1"]\&~\end{tikzcd}  
}
\newcommand{\bifrom}[1][]{
	\begin{tikzcd}[ampersand replacement=\&, cramped]\ar[r, bimr-biml, "{#1}"]\&~\end{tikzcd}  
}
\newcommand{\bifromlong}[2][]{
	\begin{tikzcd}[ampersand replacement=\&, column sep=#2, cramped]\ar[r, bimr-biml, "#1"]\&~\end{tikzcd}  
}

% Adjunctions
\newcommand{\adj}[5][30pt]{%[size] Cat L, Left, Right, Cat R.
\begin{tikzcd}[ampersand replacement=\&, column sep=#1]
  #2\ar[r, shift left=7pt, "#3"]
  \ar[r, phantom, "\scriptstyle\Rightarrow"]\&
  #5\ar[l, shift left=7pt, "#4"]
\end{tikzcd}
}

\newcommand{\adjr}[5][30pt]{%[size] Cat R, Right, Left, Cat L.
\begin{tikzcd}[ampersand replacement=\&, column sep=#1]
  #2\ar[r, shift left=7pt, "#3"]\&
  #5\ar[l, shift left=7pt, "#4"]
  \ar[l, phantom, "\scriptstyle\Leftarrow"]
\end{tikzcd}
}

\newcommand{\xtickar}[1]{\begin{tikzcd}[baseline=-0.5ex,cramped,sep=small,ampersand 
replacement=\&]{}\ar[r,tick, "{#1}"]\&{}\end{tikzcd}}
\newcommand{\xslashar}[1]{\begin{tikzcd}[baseline=-0.5ex,cramped,sep=small,ampersand 
replacement=\&]{}\ar[r,tick, "{#1}"]\&{}\end{tikzcd}}



  
  % amsthm %
\theoremstyle{definition}
\newtheorem{definitionx}{Definition}[chapter]
\newtheorem{examplex}[definitionx]{Example}
\newtheorem{remarkx}[definitionx]{Remark}
\newtheorem{notation}[definitionx]{Notation}


\theoremstyle{plain}

\newtheorem{theorem}[definitionx]{Theorem}
\newtheorem{proposition}[definitionx]{Proposition}
\newtheorem{corollary}[definitionx]{Corollary}
\newtheorem{lemma}[definitionx]{Lemma}
\newtheorem{warning}[definitionx]{Warning}
\newtheorem*{theorem*}{Theorem}
\newtheorem*{proposition*}{Proposition}
\newtheorem*{corollary*}{Corollary}
\newtheorem*{lemma*}{Lemma}
\newtheorem*{warning*}{Warning}
%\theoremstyle{definition}
%\newtheorem{definition}[theorem]{Definition}
%\newtheorem{construction}[theorem]{Construction}

\newenvironment{example}
  {\pushQED{\qed}\renewcommand{\qedsymbol}{$\lozenge$}\examplex}
  {\popQED\endexamplex}
  
 \newenvironment{remark}
  {\pushQED{\qed}\renewcommand{\qedsymbol}{$\lozenge$}\remarkx}
  {\popQED\endremarkx}
  
  \newenvironment{definition}
  {\pushQED{\qed}\renewcommand{\qedsymbol}{$\lozenge$}\definitionx}
  {\popQED\enddefinitionx} 

    
%-------- Single symbols --------%
	
\DeclareSymbolFont{stmry}{U}{stmry}{m}{n}
\DeclareMathSymbol\fatsemi\mathop{stmry}{"23}

\DeclareFontFamily{U}{mathx}{\hyphenchar\font45}
\DeclareFontShape{U}{mathx}{m}{n}{
      <5> <6> <7> <8> <9> <10>
      <10.95> <12> <14.4> <17.28> <20.74> <24.88>
      mathx10
      }{}
\DeclareSymbolFont{mathx}{U}{mathx}{m}{n}
\DeclareFontSubstitution{U}{mathx}{m}{n}
\DeclareMathAccent{\widecheck}{0}{mathx}{"71}


%-------- Renewed commands --------%

\renewcommand{\ss}{\subseteq}

%-------- Other Macros --------%


\DeclarePairedDelimiter{\pair}{\langle}{\rangle}
\DeclarePairedDelimiter{\copair}{[}{]}
\DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclarePairedDelimiter{\corners}{\ulcorner}{\urcorner}
\DeclarePairedDelimiter{\ihom}{[}{]}

\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Mor}{Mor}
\DeclareMathOperator{\dom}{dom}
\DeclareMathOperator{\cod}{cod}
\DeclareMathOperator{\idy}{idy}
\DeclareMathOperator{\comp}{com}
\DeclareMathOperator*{\colim}{colim}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\ob}{Ob}
\DeclareMathOperator{\Tr}{Tr}
\DeclareMathOperator{\el}{El}




\newcommand{\const}[1]{\texttt{#1}}%a constant, or named element of a set
\newcommand{\Set}[1]{\mathsf{#1}}%a named set
\newcommand{\ord}[1]{\mathsf{#1}}%an ordinal
\newcommand{\cat}[1]{\mathcal{#1}}%a generic category
\newcommand{\Cat}[1]{\mathbf{#1}}%a named category
\newcommand{\fun}[1]{\mathrm{#1}}%a function
\newcommand{\Fun}[1]{\mathrm{#1}}%a named functor




\newcommand{\id}{\mathrm{id}}
\newcommand{\then}{\mathbin{\fatsemi}}

\newcommand{\cocolon}{:\!}


\newcommand{\iso}{\cong}
\newcommand{\too}{\longrightarrow}
\newcommand{\tto}{\rightrightarrows}
\newcommand{\To}[2][]{\xrightarrow[#1]{#2}}
\renewcommand{\Mapsto}[1]{\xmapsto{#1}}
\newcommand{\Tto}[3][13pt]{\begin{tikzcd}[sep=#1, cramped, ampersand replacement=\&, text height=1ex, text depth=.3ex]\ar[r, shift left=2pt, "#2"]\ar[r, shift right=2pt, "#3"']\&{}\end{tikzcd}}
\newcommand{\Too}[1]{\xrightarrow{\;\;#1\;\;}}
\newcommand{\from}{\leftarrow}
\newcommand{\ffrom}{\leftleftarrows}
\newcommand{\From}[1]{\xleftarrow{#1}}
\newcommand{\Fromm}[1]{\xleftarrow{\;\;#1\;\;}}
\newcommand{\surj}{\twoheadrightarrow}
\newcommand{\inj}{\rightarrowtail}
\newcommand{\wavyto}{\rightsquigarrow}
\newcommand{\lollipop}{\multimap}
\newcommand{\imp}{\Rightarrow}
\renewcommand{\iff}{\Leftrightarrow}
\newcommand{\down}{\mathbin{\downarrow}}
\newcommand{\fromto}{\leftrightarrows}
\newcommand{\tickar}{\xtickar{}}
\newcommand{\slashar}{\xslashar{}}



\newcommand{\inv}{^{-1}}
\newcommand{\op}{^\tn{op}}
\newcommand{\co}{^\tn{co}}

\newcommand{\tn}[1]{\textnormal{#1}}
\newcommand{\ol}[1]{\overline{#1}}
\newcommand{\ul}[1]{\underline{#1}}
\newcommand{\wt}[1]{\widetilde{#1}}
\newcommand{\wh}[1]{\widehat{#1}}
\newcommand{\wc}[1]{\widecheck{#1}}
\newcommand{\ubar}[1]{\underaccent{\bar}{#1}}

\newcommand{\dual}[1]{{#1}^\vee}



\newcommand{\bb}{\mathbb{B}}
\newcommand{\cc}{\mathbb{C}}
\newcommand{\nn}{\mathbb{N}}
\newcommand{\pp}{\mathbb{P}}
\newcommand{\qq}{\mathbb{Q}}
\newcommand{\zz}{\mathbb{Z}}
\newcommand{\rr}{\mathbb{R}}


\newcommand{\finset}{\Cat{Fin}}
\newcommand{\smset}{\Cat{Set}}
\newcommand{\smcat}{\mathbb{C}\Cat{at}}
\newcommand{\catsharp}{\Cat{Cat}^{\sharp}}
\newcommand{\ppolyfun}{\mathbb{P}\Cat{olyFun}}
\newcommand{\ccatsharp}{\mathbb{C}\Cat{at}^{\sharp}}
\newcommand{\ccatsharpdisc}{\mathbb{C}\Cat{at}^{\sharp}_{\tn{disc}}}
\newcommand{\ccatsharplin}{\mathbb{C}\Cat{at}^{\sharp}_{\tn{lin}}}
\newcommand{\ccatsharpdisccon}{\mathbb{C}\Cat{at}^{\sharp}_{\tn{disc,con}}}
\newcommand{\sspan}{\mathbb{S}\Cat{pan}}

\newcommand{\List}{\Fun{List}}
\newcommand{\set}{\tn{-}\Cat{Set}}




\newcommand{\yon}{\mathcal{y}}
\newcommand{\poly}{\Cat{Poly}}
%\newcommand{\poly}{\smset[\yon]}
\newcommand{\ppoly}{\mathbb{P}\Cat{oly}}
\newcommand{\0}{\Cat{0}}
\newcommand{\1}{\Cat{1}}
\newcommand{\tri}{\mathbin{\triangleleft}}
\newcommand{\triright}{\mathbin{\triangleright}}
\newcommand{\tripow}[1]{^{\tri #1}}
\newcommand{\rdag}{^{\rotatebox{0}{$\dagger$}}}
\newcommand{\ldag}{^{\rotatebox{180}{$\dagger$}}}
\newcommand{\ot}[2]{\,\mbox{${}_{#1}\otimes_{#2}$}\,}
\newcommand{\ih}[4]{{}_{#1}[#2,#3]_{#4}}

\newcommand{\monprod}{\blacktriangleleft}

\newcommand{\fd}{\Cat{FD}}
\newcommand{\mn}{\Cat{Mn}}
\newcommand{\ddial}{\Cat{DDial}}


% lenses
\newcommand{\biglens}[2]{
     \begin{bmatrix}{\vphantom{f_f^f}#2} \\ {\vphantom{f_f^f}#1} \end{bmatrix}
}
\newcommand{\littlelens}[2]{
     \begin{bsmallmatrix}{\vphantom{f}#2} \\ {\vphantom{f}#1} \end{bsmallmatrix}
}
\newcommand{\lens}[2]{
  \relax\if@display
     \biglens{#1}{#2}
  \else
     \littlelens{#1}{#2}
  \fi
}



\newcommand{\qand}{\quad\text{and}\quad}
\newcommand{\qqand}{\qquad\text{and}\qquad}


\newcommand{\coto}{\nrightarrow}
\newcommand{\cofun}{{\raisebox{2pt}{\resizebox{2.5pt}{2.5pt}{$\setminus$}}}}

\newcommand{\coalg}{\tn{-}\Cat{Coalg}}

\newcommand{\bic}[2]{{}_{#1}\Cat{Comod}_{#2}}

% ---- Changeable document parameters ---- %

\linespread{1.1}
%\allowdisplaybreaks
\setsecnumdepth{chapter}
\settocdepth{chapter}
\setlength{\parindent}{15pt}
\setcounter{tocdepth}{1}



%--------------- Document ---------------%
\begin{document}

\title{The root source of structures\\on $\poly$ and dependent dialectica
}

\author{David I. Spivak}

\date{\vspace{-.2in}}

\maketitle

\begin{abstract}
Both the category of polynomial functors and the dependent Dialectica category are extremely rich, and for the same reason: each emerges as the free distributive category on a simpler category, namely on the free object and the free arrow, respectively: $\poly=\fd(\bullet)$, $\ddial=\fd(\bullet\to\bullet)$. But in fact, the free distributive category construction has a kind of "square root": a simpler construction, which I'll call the \emph{menu category} construction, with the property that $\fd(\cat{C})\cong\mn(\mn(\cat{C}))$.

The menu category $\mn(\cat{C})$ is given by the free coproduct completion of $\cat{C}\op$ and as such enjoys excellent formal properties: $\mn(\cat{C})$ always has extensive coproducts; $\mn(\cat{C})$ has a distributive monoidal operation for every monoidal operation on $\cat{C}$; $\mn(\cat{C})$ is complete/cocomplete if $\cat{C}$ is cocomplete/complete; $\mn(\cat{C})$has monoidal closures/coclosures if $\cat{C}$ has monoidal coclosures/closures, etc. We can also define a substitution operation on $\fd(\cat{C})$ for any monoidal category $\cat{C}$. 

From this laundry list of formal properties and the fact that the free object category $\bullet$ has exactly one of every categorical structure, we recover many known properties of $\poly$, $\Cat{DDial}$, etc. Focusing on $\poly$, we recover the usual operations $+$, $\times$, $\otimes$, $\tri$, as well as many if not all the known facts about $\times$ and $\otimes$ being monoidal closed, $\otimes$ and $\tri$ being coclosed, etc.  \\

\smallskip

\noindent
\textbf{Keywords:} **
\end{abstract}

%-------- Chapter --------%
\chapter{Introduction}

For a fixed Grothendieck universe $U$, the ($U$-) coproduct completion of $\cat{C}\op$, which we'll call its \emph{menu category} $\mn_U(\cat{C})$, is a very rich construction. Applying it a few times successively to the empty category, one obtains:
\[
	\1\cong \mn_U(\0),\qquad
	\smset_U\cong\mn_U(\1),\qquad
	\poly_U\cong\mn_U(\smset_U).
\]
It is not a 2-monad on $\smcat$, since it technically is of the form
\[
\mn\colon\smcat\co\to\smcat
\]
however, applying it twice does result in a monad, namely the free $U$-distributive category on $\cat{C}$
\[
\fd_U(\cat{C})\cong\mn_U(\mn_U(\cat{C})).
\]
Here $\fd_U(\cat{C})$ has $U$-ary coproducts and $U$-ary products that distribute over them,%
\footnote{The term \emph{distributive category} generally refers to a category where finite products distribute over finite coproducts. In $\fd_U(\cat{C})$, $U$-ary products distribute over $U$-ary coproducts, so it is often called \emph{completely distributive}. We will call it $U$-distributive.}
 and it is the free such thing containing a copy of $\cat{C}$. In this way, we can very roughly think of $\mn$ as a kind of ``square root'' of $\fd$. 

It is well-known that $\poly_U$ is the free $U$-distributive category on a single object, i.e.\ $\poly\cong\fd(\1)$. By \cite{moss2018dialectica}, we have that the \emph{dependent dialectica category} is given by 
\[\ddial\cong\fd_U(\Cat{2})\]
where $\Cat{2}=(\bullet\to\bullet)$ is the walking arrow category. In this note, we show that much of the abundance of structure one finds in $\poly$ and $\ddial$ in fact arises from this root source.

%---- Section ----%
\section*{Acknowledgments}
We thank Josh Meyers, Nelson Niu, and Brandon Shapiro for many useful conversations.  

This material is based upon work supported by the Air Force Office of Scientific Research under award number FA9550-20-1-0348.


%-------- Chapter --------%
\chapter{The menu construction}

Free completions of categories have been well-studied; in particular, free coproduct completions of categories were a major theme in the recent paper \cite{adamek2020nice}. We have not seen explicit interest in the coproduct completion of the opposite category, but searching for this was difficult and our search may have been inadequate.

For the remainder of the paper, we fix a Grothendieck universe $U$ of sets; it will be implicit. We call a set \emph{small} if it is in $\ol{u}$. The category $\smset$ denotes the category of small sets.

\begin{proposition}
Let $\cat{C}$ be a category. The following categories are equivalent:
\begin{enumerate}
	\item the coproduct completion of $\cat{C}\op$,
	\item the full subcategory of $\smset^\cat{C}$ spanned by coproducts of representables,
	\item the opposite of the product completion of $\cat{C}$, and
	\item the category whose objects are pairs $(A,c)$, where $A\in\smset$ and $c\colon A\to\cat{C}$, and for which
	\begin{align*}
	\Hom((A,c),(A',c'))&\coloneqq\prod_{a\in A}\sum_{a'\in A'}\cat{C}\big(c'(a'),c(a)\big)\\&\cong\left\{(f,\varphi)\;\middle|\; f\in\smset(A,A')\text{ and }\forall a\in A, \varphi(a)\in\cat{C}(c'(fa),c(a))\right\}.
	\end{align*}
\end{enumerate}
We denote this category by $\mn(\cat{C})$.
\end{proposition}
\begin{proof}[Sketch of proof]
We first show that $\mn(\cat{C})$ is a coproduct completion of $\cat{C}$. There is an obvious inclusion $\eta_\cat{C}\colon \cat{C}\op\to\mn(\cat{C})$ sending $c\mapsto (1,c)$. Given a set $I$ and objects $(A_i,c_i)_{i\in I}$, their coproduct $(A,c)\coloneqq\sum_{i\in I}(A_i,c_i)$ is given by
\[
A\coloneqq\sum_{i\in I}A_i
\qqand
c(i,a)\coloneqq c_i(a).
\]
Indeed, there is an inclusion map $(A_i,c_i)\to (A,c)$, given by the coproduct inclusion of sets $A_i\to A$ and identities on the $\cat{C}$-values. Given any other $(B,d)$ and maps $(f_i,\varphi_i)\colon (A_i,c_i)\to(B,d)$, we can define $f\colon A\to B$ by the universal property and $\varphi_{i,a}\coloneqq\varphi_i(a)$ for each $(i,a)\in A$. This makes the appropriate diagrams commute and is unique as such.

Given any other coproduct-complete category $\cat{D}$ equipped with a functor $F\colon\cat{C}\op\to\cat{D}$, there is a unique functor $\mn(\cat{C})\to\cat{D}$ commuting with $\eta$: it sends $(A,c)$ to the coproduct $\sum_{a\in A}F(c_a)$. We leave the details to the reader.

It is clear the opposite of the product completion of $\cat{C}$ is equivalent to the coproduct completion of $\cat{C}\op$. It is well-known that to freely add $J$-shaped colimits to a small category $\cat{D}$ is to take the $J$-shaped colimits of representables in the presheaf category $\smset^{\cat{D}\op}$. This completes the proof sketch.
\end{proof}

The name \emph{menu category} is perhaps not ideal; we are quite open to it being renamed. The idea is that an object in $\mn(\cat{C})$ consists of a menu of items in $\cat{C}$: one indicates a menu item and looks to receive an object in $\cat{C}$. A morphism $(A,c)\to (A',c')$ is a method for fulfilling the first menu: each menu item $a\in A$ is sent to some menu item $a'\in A'$, as well as a strategy $c'(a')\to c(a)$, meaning that if we receive an element of $c'(a')$, then we receive an element of $c(a)$.%
\footnote{Here we use ``element'' of $c(a)$ in the sense of generalized element: a map into $c(a)$.}






%-------- Chapter --------%
\chapter{Categorical structures on $\mn(\cat{C})$}

%---- Section ----%
\section{Limits and colimits}

\begin{proposition}\label{prop.colimits_to_limits}
Suppose $J$ is a small category. If $\cat{C}$ has colimits of shape $J$, then $\mn(\cat{C})$ has limits of shape $J$.
\end{proposition}
\begin{proof}
	The category of sets has $J$-shaped limits. So suppose given a diagram $(A,c)\colon J\to \mn(\cat{C})$. Its limit is given by $\lim_{j\in J}(A_j,c_j)\coloneqq(\ol{A},\ol{c})$, where
	\[
	\ol{A}\coloneqq\lim_{j\in J}A_j
	\qqand
	\ol{c}(a)\coloneqq\colim_{j\in J}c_j(\pi_j(a))
	\]
	Here, $\pi_j\colon \ol{A}\to A_j$ is the projection. It is easy to check that this is a limit.
\end{proof}

We have far less control of colimits.

\begin{proposition}\label{prop.limits_to_colimits}
If $\cat{C}$ has small limits, then $\mn(\cat{C})$ has small colimits.
\end{proposition}
\begin{proof}
Let $J$ be a small category. A diagram $(A,c)\colon J\to \mn(\cat{C})$ can be identified with a functor $A\colon J\to \smset$ and a functor $c\colon \int^JA\to\cat{C}\op$ from its category of elements. Let $\ul{A}\coloneqq\colim_{j\in J}A_j$ and consider the solid-arrow diagram
\[
\begin{tikzcd}
	\int^JA\ar[r, "c"]\ar[d, "\pi"']&
	\cat{C}\op\\
	\ul{A}\ar[ur, bend right, dashed, "\ul{c}"']
\end{tikzcd}
\]
The vertical functor sends each object $(j,a)$ to its equivalence class in the colimit and each morphism to the corresponding identity; it is the universal map from the lax colimit of $A$ to the strict colimit of $A$. Define the dashed arrow $\ul{c}$ to be the left Kan extension, which exists because $\cat{C}\op$ has small colimits.

Given an object $(A',c')\in\mn(\cat{C})$ and maps $(A_j,c_j)\to(A',c')$ that commute for morphisms $j\to j'$ in $J$, we obtain the universal map $f\colon\ul{A}\to A'$. One checks that we then have the diagram (shown left), and hence, by definition of left Kan extension, a universal map (shown right), completing the proof:
\[
\begin{tikzcd}
	\int^JA\ar[r, "c"]\ar[d, "\pi"']&
	\cat{C}\op\\
	\ul{A}\ar[r, "f"']&A'\ar[u, "c'"']\ar[ul, phantom, pos=.6, "\Downarrow"]
\end{tikzcd}
\hspace{.6in}
\begin{tikzcd}
	\int^JA\ar[r, "c"]\ar[d, "\pi"']&
	\cat{C}\op\\
	\ul{A}\ar[r, "f"']\ar[ur, "\ul{c}" description]&A'\ar[u, "c'"']
	\ar[ul, phantom, pos=.2, "\Downarrow"]\ar[ul, phantom, pos=.85, "\Downarrow"]
\end{tikzcd}
\qedhere
\]
\end{proof}

%---- Section ----%
\section{Extensivity}

\begin{proposition}
For any $\cat{C}$, the category $\mn(\cat{C})$ is extensive.
\end{proposition}
\begin{proof}
This was proven as \cite[Proposition 2.4]{carboni1993introduction}. The category of sets is extensive, so given a diagram
\[
\begin{tikzcd}
	&(A',c')\ar[d]\\
	(A_1,c_1)\ar[r]&(A_1+A_2,\pair{c_1,c_2})&(A_2,c_2)\ar[l]
\end{tikzcd}
\]
we have $A'\cong A_1'+A_2'$ where $A_1'\coloneqq A_1\times_{(A_1+A_2)}A'$ is the pullback, and similarly for $A_2'$. Then we define $c_i'\colon A_i'\to \cat{C}$ for $i\in\{1,2\}$ by $c_i'(a_i')\coloneqq c'(a_i')$.
 Hence we have a pair of pullbacks
\[
\begin{tikzcd}
	(A'_1,c'_1)\ar[r]\ar[d]\ar[dr, phantom, very near start, "\lrcorner"]&
	(A',c')\ar[d]&
	(A'_2,c'_2)\ar[l]\ar[d]\ar[dl, phantom, very near start, "\llcorner"]
	\\
	(A_1,c_1)\ar[r]&(A_1+A_2,\pair{c_1,c_2})&(A_2,c_2)\ar[l]
\end{tikzcd}
\]
such that the top row is a coproduct, as desired.
\end{proof}




%---- Section ----%
\section{Monoidal structures}

\begin{proposition}
The functor $\mn\colon(\smcat\co,\1,\times)\to(\smcat,\1,\times)$ is lax monoidal.
\end{proposition}
\begin{proof}
We first provide the laxators:
\[
  \eta\colon \1\to\mn(\1)
  \qqand
  \mu_{\cat{C},\cat{D}}\colon\mn(\cat{C})\times\mn(\cat{D})\to\mn(\cat{C}\times\cat{D}).
\]
for any categories $\cat{C},\cat{D}$. The functor $\eta$ picks out the object $(1,1)\in\mn(\1)$, where the first coordinate indicates a one-element set and the second coordinate indicates the unique object of $\1$. The functor $\mu$ is given by
\[
\mu((A,c),(B,d))\mapsto(A\times B, \pair{c,d})
\]
where $\pair{c,d}(a,b)=(c(a),d(b))\in\cat{C}\times\cat{D}$. The map $\mu$ is a strict 2-natural, meaning that given $F\colon\cat{C}\to\cat{C}'$ and $G\colon\cat{D}\to\cat{D}'$, the diagram
\[
\begin{tikzcd}[column sep=large]
	\mn(\cat{C})\times\mn(\cat{D})\ar[r, "\mu_{\cat{C},\cat{D}}"]\ar[d, "\mn(F)\times\mn(G)"']&
	\mn(\cat{C}\times\cat{D})\ar[d, "\mn(F\times G)"]\\
	\mn(\cat{C}')\times\mn(\cat{D}')\ar[r, "\mu_{\cat{C'},\cat{D'}}"']&
	\mn(\cat{C}'\times\cat{D}')
\end{tikzcd}
\]
commutes strictly. It is easy to see that $\eta$ and $\mu$ are unital and associative as desired.
\end{proof}

\begin{corollary}\label{cor.induced_monoidal}
The functor $\mn$ sends pseudomonoids to pseudomonoids. In other words, for any monoidal structure $(I,\odot)$ on $\cat{C}$, we have an induced monoidal structure $(\ol{I},\ol{\odot})$ on $\mn(\cat{C})$.
\end{corollary}

To be explicit, the induced monoidal structure on $\mn(\cat{C})$, as in \cref{cor.induced_monoidal}, is given by
\[
\ol{I}\coloneqq\eta\then\mn(I)
\qqand
\ol{\odot}\coloneqq\mu_{\cat{C},\cat{C}}\then\mn(\odot)
\]
Recall from \cref{prop.colimits_to_limits} that if $\cat{C}$ has finite coproducts, then $\mn(\cat{C})$ has finite products. In the notation of \cref{cor.induced_monoidal}, we have $1=\ol{0}$ and $\times=\ol{+}$.


\begin{proposition}
Given a monoidal category $(\cat{C},I,\odot)$, the induced monoidal structure $(\ol{I},\ol{\odot})$ on $\mn(\cat{C})\ss\smset^\cat{C}$ is the restriction of the Day convolution monoidal structure on $\smset^{\cat{C}}$.
\end{proposition}
\begin{proof}
**Calculate with coends**
\end{proof}

%---- Section ----%
\section{Closures}


\begin{definition}
Given a monoidal product $\monprod$ on $\cat{C}$, a \emph{left index-coclosure} for $\monprod$ consists of a functor $(I,X)\colon\cat{C}\op\times\cat{C}\to\mn(\cat{C})$ with the property that for all $C,D',D\in\cat{C}$, we have
\[
\cat{C}(C, D\monprod D')\cong\sum_{i\in I_{C,D}}\cat{C}(X_i, D').
\]
A \emph{right index-coclosure} for $\monprod$ is a functor $(J,Y)\colon\cat{C}\op\times\cat{C}\to\mn(\cat{C})$, but this time with
\[
\cat{C}(C, D'\monprod D)\cong\sum_{j\in J_{C,D}}\cat{C}(Y_j, D').
\]
\end{definition}

\begin{example}[Cartesian monoidal categories have index coclosures]
If $\cat{C}$ has finite products then it has a (left and right) index coclosure given by $(I,X)\colon\cat{C}\op\times\cat{C}\to\mn(\cat{C})$, where
\[
  I_{C,D}\coloneqq\{i\in\cat{C}(C,D)\}
  \qqand
  X_i\coloneqq C
\]
Indeed, we have
\[
\cat{C}(C, D\times D')\cong\cat{C}(C,D)\times\cat{C}(C,D')\cong\sum_{i\in \cat{C}(C,D)}\cat{C}(C, D').
\qedhere
\]
\end{example}

\begin{example}[Lextensive categories have index coclosures]
Suppose that $\cat{C}$ is extensive and has a terminal object (e.g.\ if $\cat{C}$ is lextensive). Then it has a (left and right) index coclosure given by $(I,X)\colon\cat{C}\op\times\cat{C}\to\mn(\cat{C})$, where
\[
  I_{C,D}\coloneqq\{i\in\cat{C}(C,D+1)\}
  \qqand
  X_i\coloneqq i\inv(1)
\]
In other words, one can show that in an extensive category with terminal object $1$, we have
\[
\cat{C}(C, D+D')\cong\sum_{i\in \cat{C}(C,D+1)}\cat{C}\left(i\inv(1), D'\right).
\qedhere
\]
\end{example}

\begin{remark}
Given a category $\cat{C}$, a monoidal operation $\monprod$ having a left (resp.\ right) index-coclosure is the same as each of the functors
\[
	(C\monprod -)\colon\cat{C}\to\cat{C}
	\qquad\qquad\text{resp.\ } 
  (-\monprod C)\colon\cat{C}\to\cat{C}
\]
having a left multiadjoint in the sense of \cite{Diers}. 

\end{remark}

\begin{proposition}
If $(\cat{C},I,\monprod)$ is right index coclosed, then $(\mn(\cat{C}),\ol{I},\ol{\monprod})$ is monoidal closed. 
\end{proposition}
\begin{proof}
Let $(I,X)\colon\cat{C}\op\times\cat{C}\to\mn(\cat{C})$ be the right index coclosure on $\cat{C}$. We will show that the closure $[-,-]$ on $\mn(\cat{C})$ is given by the formula
\[
	[(A,c),(B,d)]\coloneqq
	\left(\prod_{a\in A}\sum_{b\in B}I(c(a),d(b))\,,\,(b,i)\mapsto\sum_{a\in A}X_{i(a)}\right)
\]
Indeed, we calculate
\begin{align*}
	\mn(\cat{C})((A',c')\ol{\monprod}(A,c),(B,d))&\cong
	\prod_{a'\in A'}\prod_{a\in A}\sum_{b\in B}\cat{C}(d(b),c'(a')\monprod c(a))\\&\cong
	d
\end{align*}
\end{proof}

\begin{remark}
In the proof of \cref{prop.limits_to_colimits} we implicitly used the fact that the free coproduct completion functor has a kind of 2-dimensional left multiadjoint, that
\[
\smcat(J,\Sigma\cat{C})\simeq\int^{A\colon J\to\smset}\cat{C}\left(\textstyle{\int}^{j:J}A_j,\cat{C}\op\right)
\]
where $\Sigma\cat{C}$ denotes its free coproduct cocompletion (so $\mn(\cat{C})=\Sigma(\cat{C}\op)$), and where $\int^{x:X}Y_x$ denotes the category of elements of a functor $Y\colon X\to\smset$.
\end{remark}

%---- Section ----%
\section{Coclosures}

\section{Cartesian closure and distributivity}

\begin{proposition}
Suppose that $\cat{C}$ is extensive and has a terminal object. Then $\mn(\cat{C})$ is Cartesian closed.
\end{proposition}
\begin{proof}
If $\cat{C}$ is extensive, it has finite coproducts. Hence $\mn(\cat{C})$ has finite products by \cref{prop.colimits_to_limits}; they are given by
\[
(A,c)\times (A',c')\coloneqq\big(A\times A', (a,a')\mapsto c(a)+c'(a')\big).
\]
Given $(A,c)$ and $(B,d)$, we define
\[
(B,d)^{(A,c)}\coloneqq(B^A, f\mapsto ...
\]
\end{proof}

\begin{proposition}
If $\cat{C}$ is extensive, then $\mn(\cat{C})$ is distributive.
\end{proposition}
\begin{proof}

\end{proof}

%-------- Chapter --------%
\chapter{Categorical structures on $\fd(\cat{C})$}
%---- Section ----%
\section{Structures arising from $\fd=\mn\circ\mn$}
%---- Section ----%
\section{The substitution product}

Learned from Nelson Niu.

%---- Section ----%
\section{The menu category construction in $\poly$}


\printbibliography
\end{document}
